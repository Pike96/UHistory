var HistoryView=function(e,r){var t=$("<div>"),a=$("<ul class='historyList'>"),n=new Array("January","February","March","April","May","June","July","August","September","October","November","December"),y=new Array("Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday");t.append(a),e.append(t),r.addObserver(this),this.update=function(e){"searchComplete"==e&&function(){a.empty();var e=r.getSelectedItemSearch();if(null!=e){e[1].sort(function(e,r){return r[3]-e[3]});var t=$("<li class='historyViewTitle'>"),s=y[e[0].getDay()],u=n[e[0].getMonth()],l=e[0].getDate(),o=e[0].getFullYear();for(t.html(s+", "+u+" "+l+", "+o),a.append(t),i=0;i<e[1].length;i++){var d=$("<li>"),p=new HistoryItemView(d,r,e);new HistoryItemController(p,r),a.append(d)}}}()}};