var StatisticsView=function(t,a){var e=d3.scale.category20(),s=$("<h2>");s.html("Your browsing statistics");var d=$("<div id='topSitesBox'>"),n=$("<div id='piechart'>"),o=$("<ul id='topSitesList'>");d.append(n,o);var r=$("<div id='visitsBox'>"),p=$("<span id='visitsTitle'>"),l=$("<div id='dailyBargraph'>"),u=$("<div id='hourlyBargraph'>"),v=$("<div id='onDemandBargraph'>"),c=$("<div class='btn-group'>"),h=$("<button class='btn btn-default active' id='daysButton'>"),g=$("<button class='btn btn-default' id='hoursButton'>");h.html("Days"),g.html("Hours");var y=$("<div class='buttonContainer'>"),b=$("<div class='buttonContainer'>"),B=$("<input type='checkbox' id='dailySortButton'>"),S=$("<input type='checkbox' id='hourlySortButton'>"),m=$("<b>");p.html("Average visits per day"),m=" Sort by visits",y.append(B,m),b.append(S,m),c.append(g,h),l.append(y),u.append(b),r.append(p,c,l,u,v),t.append(s,d,r),this.daysButton=h,this.hoursButton=g,a.addObserver(this),this.update=function(s){"dataReady"==s&&function(){a.getSiteRanking();var s=a.getTop();for(i=0;i<s.length-1;i++){var d=$("<li class='legendItem'>"),n=$("<div class='legendColor'>"),r=$("<div class='topSitesURL'>"),p=$("<div class='topSitesVisits'>");r.html(s[i][0]),p.html(s[i][1]),d.append(n,r,p),o.append(d),n.attr("style","background-color:"+e(i))}var l=a.getDailyAverages(),u=a.getDailyTop(),v=a.getHourlyAverages(),c=a.getHourlyTop();new PiechartView(t,a,s,c,u,l,v),new BarGraphView(t,a,l,1),new BarGraphView(t,a,v,2)}()}};