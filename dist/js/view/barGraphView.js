var BarGraphView=function(t,a,e,r){var n=e,s={top:5,right:20,bottom:30,left:40},o=700,l=200,d=d3.scale.ordinal().rangeRoundBands([0,o],.1),c=d3.scale.linear().range([l,10]),u=d3.svg.axis().scale(d).orient("bottom"),p=d3.svg.axis().scale(c).orient("left").ticks(10,"visits");1==r?function(){function t(){clearTimeout(i);var t=d.domain(n.sort(this.checked?function(t,a){return a.visits-t.visits}:function(t,a){return d3.ascending(t.day,a.day)}).map(function(t){return t.dname})).copy(),a=r.transition().duration(750),e=function(t,a){return 50*a};a.selectAll(".bar").delay(e).attr("x",function(a){return t(a.dname)}),a.select(".x.axis").call(u).selectAll("g").delay(e)}d3.select("#dailyBargraph svg").remove(),d3.select("#dailyBargraph .ch-tooltip").remove();var a=d3.select("#dailyBargraph").append("div").attr("class","ch-tooltip");n=[];var r=d3.select("#dailyBargraph").append("svg").attr("width",o+s.left+s.right).attr("height",l+s.top+s.bottom).append("g").attr("transform","translate("+s.left+","+s.top+")");n[0]={day:0,dname:"Monday",visits:parseInt(e[0])},n[1]={day:1,dname:"Tuesday",visits:parseInt(e[1])},n[2]={day:2,dname:"Wednesday",visits:parseInt(e[2])},n[3]={day:3,dname:"Thursday",visits:parseInt(e[3])},n[4]={day:4,dname:"Friday",visits:parseInt(e[4])},n[5]={day:5,dname:"Saturday",visits:parseInt(e[5])},n[6]={day:6,dname:"Sunday",visits:parseInt(e[6])},d.domain(n.map(function(t){return t.dname})),c.domain([0,d3.max(n,function(t){return t.visits})]),r.append("g").attr("class","x axis").attr("transform","translate(0,"+l+")").call(u),r.append("g").attr("class","y axis").call(p).append("text").attr("x",-10).attr("y",-5).attr("dy",".71em").style("text-anchor","end").text("Visits"),r.selectAll(".bar").data(n).enter().append("rect").attr("class","bar").attr("x",function(t){return d(t.dname)}).attr("width",d.rangeBand()).attr("y",function(t){return c(t.visits)}).attr("height",function(t){return l-c(t.visits)}).on("mouseover",function(t){a.html(t.visits+" visits on "+t.dname+"s").attr("style","display: block;"),a.attr("style","display: block; margin-left: "+(d(t.dname)+15)+"px; margin-top: "+(c(t.visits)-10)+"px;")}).on("mouseout",function(t){a.attr("style","display:none").html("")}),d3.select("#dailySortButton").on("change",t);var i=setTimeout(function(){1==dailySortButton.checked&&d3.select("input").property("checked",!0).each(t)},150)}():2==r&&function(){function t(){clearTimeout(h);var t=d.domain(n.sort(this.checked?function(t,a){return a.visits-t.visits}:function(t,a){return d3.ascending(t.hour,a.hour)}).map(function(t){return t.hour+":00"})).copy(),a=r.transition().duration(750),e=function(t,a){return 50*a};a.selectAll(".bar").delay(e).attr("x",function(a){return t(a.hour+":00")}),a.select(".x.axis").call(u).selectAll("g").delay(e)}d3.select("#hourlyBargraph svg").remove(),d3.select("#hourlyBargraph .ch-tooltip").remove();var a=d3.select("#hourlyBargraph").append("div").attr("class","ch-tooltip");n=[];var r=d3.select("#hourlyBargraph").append("svg").attr("width",o+s.left+s.right).attr("height",l+s.top+s.bottom).append("g").attr("transform","translate("+s.left+","+s.top+")");for(i=0;i<e.length;i++)n[i]={hour:i,visits:parseFloat(e[i])};d.domain(n.map(function(t){return t.hour+":00"})),c.domain([0,d3.max(n,function(t){return t.visits})]),r.append("g").attr("class","x axis").attr("transform","translate(0,"+l+")").call(u),r.append("g").attr("class","y axis").call(p).append("text").attr("x",-10).attr("y",-5).attr("dy",".71em").style("text-anchor","end").text("Visits"),r.selectAll(".bar").data(n).enter().append("rect").attr("class","bar").attr("x",function(t){return d(t.hour+":00")}).attr("width",d.rangeBand()).attr("y",function(t){return c(t.visits)}).attr("height",function(t){return l-c(t.visits)}).on("mouseover",function(t){a.html(t.visits+" visits at "+t.hour+"h").attr("style","display: block;"),a.attr("style","display: block; margin-left: "+(d(t.hour+":00")-d.rangeBand()/2-4)+"px; margin-top: "+(c(t.visits)+10)+"px;")}).on("mouseout",function(t){a.attr("style","display:none").html("")}),d3.select("#hourlySortButton").on("change",t);var h=setTimeout(function(){1==hourlySortButton.checked&&d3.select("input").property("checked",!0).each(t)},250)}()};